<% currently_at 'Questions' %>
<% provide :page_title, 'Question' %>

<h1 class="mb-4"><%= @question.title %></h1>

<time datetime="<%= @question.formatted_created_at %>">
  <%= @question.formatted_created_at %>
</time>

<p class="lead my-3">
  <%= @question.body %>
</p>

<%= link_to 'Show', question_path(@question), class: 'btn btn-primary' %> 
<%= link_to 'Edit', edit_question_path(@question), class: 'btn btn-info' %>
<%= link_to 'Destroy', question_path(@question), data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}, class: 'btn btn-danger' %>

<hr class="my-4" />
<h2 class="mb-3">Write your answer</h2>

<%= render "answers/form" %>

<hr class="my-4" />
<h2 class="mb-3">Answers</h2>

<% @answers.each do |answer|  %>
  <article class="mb-3 card" id="answer-<%= answer.id %>">
    <div class="card-body">
      <p class="card-text">
        <%= answer.body %>
      </p>
      <div class="">
        <%= link_to 'Edit', edit_question_answer_path(@question, answer), class: 'btn btn-info btn-sm' %>
        <%= link_to 'Delete', question_answer_path(@question, answer), data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}, class: 'btn btn-danger btn-sm' %></div>
      </div>
      <div class="card-footer text-body-secondary">
        <small>
          Created <%= time_ago_in_words(answer.created_at) %> ago
        </small>
      </div>
  </article>
<% end %>
